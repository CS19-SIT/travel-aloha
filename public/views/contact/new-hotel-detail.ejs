<%- include('../includes/header') %>

<link rel="stylesheet" href="/assets/stylesheet/style.css">
</head>

<body>

    <%- include('../includes/navbar') %>
    <% const hotelType = ["1 Single Bed Room", "2 Single Bed Room", "1 Double Bed Room", "2 Double Bed Room", "1 King-Size Bed Room", "2 King-Size Bed Room"]  %>
    <% const columnPicture = ["single_bed_1", "single_bed_2", "double_bed_1", "double_bed_2", "king_bed_1", "king_bed_2"]; %>
    <div class="responsive-wrapper">
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <h1 class="display-4 p-3 text-center"><%= JSON.parse(hotel)[0].hotelName %></h1>
                </div>
                <div class="col-md-12">
                    <% if (typeof JSON.parse(hotel)[0].hotelPicture == 'undefined'){ %>
                    <div class="text-center">
                        <div class="hotel-pic bg-dark rounded mx-auto d-block"></div>
                        <% } else{ %>
                        <% let isLink = /^(?:https\:\/\/|http\:\/\/|www)/.test(JSON.parse(hotel)[0].hotelPicture); %>
                        <div class="text-center">
                            <div class="hotel-pic bg-dark rounded mx-auto d-block"
                                style="background-image: url('<%- (isLink?``:`/assets/uploads/contact/pictures/`) + JSON.parse(hotel)[0].hotelPicture %>'); ">
                            </div>
                            <% } %>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <h3 class="pt-4 pb-1 pl-4">Hotel Description</h3>
                    </div>
                    <div class="col-md-12">
                        <p class="pl-3 pr-3 text-justify" style="text-indent: 3vw;">
                            <%= JSON.parse(hotel)[0].hotelDescription %><p></p>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-12">
                        <h3 class="pb-2 pl-4">Hotel Picture and Detail</h3>
                    </div>
                </div>
                <div class="row d-flex">
                    <div class="col-md-9">
                        <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
                            <ol class="carousel-indicators">
                                <% let count = 0;
                            for (i = 0; i < columnPicture.length; ++i) { 
                                if (JSON.parse(hotelRoomPicture)[0][columnPicture[i]] != null) {
                                    if (count == 0) { %>
                                <li data-target="#carouselExampleIndicators" data-slide-to="<%- count %>"
                                    class="active"></li>
                                <% } else { %>
                                <li data-target="#carouselExampleIndicators" data-slide-to="<%- count %>"></li>
                                <% }
                                    ++count;
                                }
                            } %>
                            </ol>
                            <div class="carousel-inner">
                                <% count = 0;
                                for (i = 0; i < columnPicture.length; ++i) { 
                                    if (JSON.parse(hotelRoomPicture)[0][columnPicture[i]] != null) {
                                        if (count == 0) { %>
                                <div class="carousel-item active">
                                    <div class="carousel-caption d-none d-md-block">
                                        <h5 class="stroke"><%- hotelType[i] %></h5>
                                        <p class="stroke"><%- JSON.parse(hotelRoomPrice)[0][columnPicture[i]+"_price"] %> Bahts</p>
                                    </div>
                                    <img class="detail-pic d-block w-100"
                                        src="/assets/uploads/contact/pictures/<%- JSON.parse(hotelRoomPicture)[0][columnPicture[i]] %>"
                                        alt="<%- count+1 %>th slide">
                                </div>
                                <% } else { %>
                                <div class="carousel-item">
                                    <div class="carousel-caption d-none d-md-block">
                                        <h5 class="stroke"><%- hotelType[i] %></h5>
                                        <p class="stroke"><%- JSON.parse(hotelRoomPrice)[0][columnPicture[i]+"_price"] %> Bahts</p>
                                    </div>
                                    <img class="detail-pic d-block w-100"
                                        src="/assets/uploads/contact/pictures/<%- JSON.parse(hotelRoomPicture)[0][columnPicture[i]] %>"
                                        alt="<%- count+1 %>th slide">
                                </div>
                                <% }
                                        ++count;
                                    }
                                } %>
                            </div>
                            <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button"
                                data-slide="prev">
                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                <span class="sr-only">Previous</span>
                            </a>
                            <a class="carousel-control-next" href="#carouselExampleIndicators" role="button"
                                data-slide="next">
                                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                <span class="sr-only">Next</span>
                            </a>
                        </div>
                    </div>
                    <div class="col-md-3">
                        <div class="card text-center h-40">
                            <div class="card-body">
                                <h5 class="card-title">Name</h5>
                                <p class="card-text"><%= JSON.parse(hotel)[0].hotelName %></p>
                            </div>
                        </div>
                        <div class="card text-center h-40">
                            <div class="card-body">
                                <h5 class="card-title">Email</h5>
                                <p class="card-text"><%= JSON.parse(hotel)[0].hotelEmail %></p>
                            </div>
                        </div>
                        <div class="card text-center h-40">
                            <div class="card-body">
                                <h5 class="card-title">
                                    <address>Address</address>
                                </h5>
                                <p class="card-text"><%= JSON.parse(hotel)[0].hotelAddress %></p>
                            </div>
                        </div>
                        <div class="card text-center h-40">
                            <div class="card-body">
                                <h5 class="card-title">Telephone Number</h5>
                                <p class="card-text"><%= JSON.parse(hotel)[0].hotelTelNumber %></p>
                            </div>
                        </div>
                        <div class="card text-center h-40">
                            <div class="card-body">
                                <h5 class="card-title">Contact Number</h5>
                                <p class="card-text"><%= JSON.parse(hotel)[0].hotelContactNumber %></p>
                            </div>
                        </div>
                    </div>
                </div>
                <br>
                <br>
            </div>
        </div>
        <%- include('../includes/footer') %>