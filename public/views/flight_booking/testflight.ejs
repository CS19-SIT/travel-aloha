<!-- 
    TODO
    [X] Make all flights clickable and work properly
    [] Integrate this page with Flight-Landing page
 -->

<%- include('../includes/header') %>

<link href="../../assets/css/booking_style.css" rel="stylesheet">
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
<script src="https://unpkg.com/gijgo@1.9.13/js/gijgo.min.js" type="text/javascript"></script>
<link href="https://unpkg.com/gijgo@1.9.13/css/gijgo.min.css" rel="stylesheet" type="text/css" />

<%- include('../includes/navbar') %>

</head>

<body>
    <div class="container">
        <form method = "POST" action = "info">
            <div class="my-3">
                <h1>Go flight</h1>
                <select class="form-control" id="passager" name="passager">
                    <option>1</option>
                    <option>2</option>
                    <option>3</option>
                    <option>4</option>
                    <option>5</option>
                </select>
                <select class="form-control" id="seatClass" name="seatClass">
                    <option>Economy</option>
                    <option>Business</option>
                    <option>Value</option>
                    <option>First Class</option>
                </select>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios1" value="CS00001/2018-08-25"
                        checked>
                    <label class="form-check-label" for="exampleRadios1">
                        CS00001/2018-08-25
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios2"
                        value="CS00008/2019-11-14">
                    <label class="form-check-label card py-2 pl-2 mx-2" for="exampleRadios2">
                        CS00008/2019-11-14
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios3"
                        value="CS00003/2019-11-23">
                    <label class="form-check-label card py-2 pl-2 mx-2" for="exampleRadios3">
                        CS00003/2019-11-23
                    </label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="radio" name="exampleRadios" id="exampleRadios4"
                        value="CS00420/2019-11-14">
                    <label class="form-check-label card py-2 pl-2 mx-2" for="exampleRadios4">
                        CS00420/2019-11-14
                    </label>
                </div>
            </div>
            <div class="row my-4">
                <div class="col-12">
                    <h3>Back flight</h3>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="exampleRadios2" id="exampleRadios5"
                            value="CS00001/2018-08-26" checked>
                        <label class="form-check-label card py-2 pl-2 mx-2" for="exampleRadios5">
                            CS00001/2018-08-26
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="exampleRadios2" id="exampleRadios6"
                            value="CS00008/2019-11-14">
                        <label class="form-check-label card py-2 pl-2 mx-2" for="exampleRadios6">
                            CS00008/2019-11-14
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="exampleRadios2" id="exampleRadios7"
                            value="CS00003/2019-11-23">
                        <label class="form-check-label card py-2 pl-2 mx-2" for="exampleRadios7">
                            CS00003/2019-11-23
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="radio" name="exampleRadios2" id="exampleRadios8"
                            value="CS00420/2019-11-14">
                        <label class="form-check-label card py-2 pl-2 mx-2" for="exampleRadios8">
                            CS00420/2019-11-14
                        </label>
                    </div>
                </div>

            </div>
            <!-- <button method="POST" type="submit" class="btn btn-info" onclick="javascript:window.location.href='/flight/booking/verynice'">Book now</button> -->

            <button type="submit" class="btn btn-info book" onclick="hahayes()">Book now</button>
            </div>
    <input type="hidden" id="selectedFlight" name="selectedFlight">
    <input type="hidden" id="seatClass" name="seatClass">
    </form>

    <br>
    <script>
        function hahayes() {

            var lis = []
            Array.prototype.forEach.call(document.getElementsByClassName('form-check-input'), function(item) {
                if (item.checked)
                {
                    var arr = (item.value).split("/");
                    lis.push(arr)
                }
                    
            })
            const selectFlight = JSON.stringify(lis);
            document.getElementById("selectedFlight").value = selectFlight;
            // $.ajax({
            //     url: "/flight/booking/donut",
            //     method: "POST",
            //     data: {
            //         olaola: JSON.stringify(lis)
            //     }
            // }).done(function(urMom) { // check what I sent in comtroller :'(
            //     if (urMom.status == 200){
            //         const ha = urMom.data;

            //         console.log("we return");

            //         gay.textContent = ha;
            //     }
            //         //Here af
            //     else
            //         console.log('Oh no')
            // })
        }
    </script>

    <%- include('../includes/footer') %>